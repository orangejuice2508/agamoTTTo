<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="fragments/layout">
<head>
    <title th:text="#{index.title}"></title>
</head>
<body>
<div layout:fragment="content">
<div class="card w-50 mx-auto text-center m-3 bg-light">
    <div class="card-body">
        <a th:href="@{/}">
            <img class="img-fluid" th:src="@{/images/agamoTTTo_logo_transparent.png}" alt=""/>
        </a>
    </div>

    <!-- Inform the user about successful/failed actions -->
    <div th:if="${#request.getParameter('loginError') == 'true'}" class="card-body text-white bg-danger">
        <span th:text="#{index.login.error.login_failed}"></span>
    </div>
    <div th:if="${#request.getParameter('logout') == 'true'}" class="card-body text-white bg-info">
        <span th:text="#{index.logout.logout_successful}"></span>
    </div>
    <div th:if="${#request.getParameter('changePassword') == 'successful'}" class="card-body text-white bg-success">
        <span th:text="#{password.change.successful}"></span>
    </div>
    <div th:if="${#request.getParameter('updatePassword') == 'successful'}" class="card-body text-white bg-success">
        <span th:text="#{password.change.successful}"></span>
    </div>
    <div th:if="${#request.getParameter('session') == 'expired'}" class="card-body text-white bg-danger">
        <span th:text="#{index.session.expired}"></span>
    </div>

    <div class="card-body">
            <form class="form-signin" th:action="@{/j_spring_security_check}" method="POST">
                <input type="email" name="email" class="form-control" th:placeholder="#{index.login.label.email}" required="" autofocus="">
                <input type="password" name="password" class="form-control mb-2" th:placeholder="#{index.login.label.password}" required="">
                <button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#{index.login.label.submit}"></button>
            </form>
        <div class="mt-2">
            <a th:href="@{/forgotPassword}" th:text="#{index.forgot_password}"></a>
        </div>
    </div>

    <div class="card-body" th:text="#{copyright}"></div>
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    </div>
</div>
</body>
</html>